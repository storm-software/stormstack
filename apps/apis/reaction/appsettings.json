{
  "ApplicationDetailSettings": {
    "ApplicationName": "OpenSystem Reaction API",
    "Description": "A set of APIs used to manage user reactions to application content",
    "ContactWebsite": "https://pat-sullivan.com/contact",
    "LicenseDetail": "https://opensource.org/licenses/BSD-2-Clause"
  },
  "UseInMemoryDatabase": false,
  "ConnectionStrings": {
    "PostgreSqlReadJournal": "User ID=root;Password=root;Host=localhost;Port=5434;Database=reaction.read-db;Pooling=true;Include Error Detail=true;",
    "PostgreSqlWriteJournal": "User ID=root;Password=root;Host=localhost;Port=5432;Database=reaction.write-db;Pooling=true;Include Error Detail=true;",
    "DefaultConnection": "User ID=root;Password=root;Host=localhost;Port=5432;Database=reaction.write-db;Pooling=true;Include Error Detail=true;",
    "BackupConnection": "Host=localhost;Port=5432;Database=reaction.db;User Id=root;Password=root;",
    "CacheConnection": "static.cache:5430",
    "EventStoreConnection": "esdb://admin:changeit@localhost:2113?tls=false"
  },
  "PostgreSqlReadJournalSettings": {
    "SchemaName": "public",
    "TableName": "event_journal",
    "MetadataTableName": "metadata",
    "AutoInitialize": true,
    "ConnectionStringName": "PostgreSqlReadJournal"
  },
  "PostgreSqlWriteJournalSettings": {
    "SchemaName": "public",
    "TableName": "event_journal",
    "MetadataTableName": "metadata",
    "AutoInitialize": true,
    "ConnectionStringName": "PostgreSqlWriteJournal"
  },
  "EventStore": {
    "ConnectionName": "OpenSystemConsumer"
  },
  "AkkaSettings": {
    "ActorSystemName": "AkkaWebApi",
    "UseClustering": true,
    "RemoteOptions": {
      "HostName": "0.0.0.0",
      "Port": 8081
    },
    "ClusterOptions": {
      "Roles": [
        "web-api"
      ]
    },
    "ShardOptions": {
      "StateStoreMode": "DData",
      "RememberEntities": false,
      "Role": "web-api"
    },
    "AkkaManagementOptions": {
      "Enabled": false,
      "PortName": "management",
      "ServiceName": "akka-management",
      "RequiredContactPointsNr": 3,
      "DiscoveryMethod": "Config"
    },
    "PersistenceMode": "InMemory"
  },
  "Kestrel": {
    "Limits": {
      "MaxConcurrentConnections": 100,
      "MaxConcurrentUpgradedConnections": 100
    },
    "DisableStringReuse": true
  },
  "EventStoreSettings": {
    "QueryDeadline": 5000,
    "QueryMaxCount": 50
  },
  "EventSourcingSettings": {
    "NumberOfRetriesOnOptimisticConcurrencyExceptions": 4,
    "DelayBeforeRetryOnOptimisticConcurrencyExceptions": 100,
    "ForwardOptimisticConcurrencyExceptions": false,
    "ThrowSubscriberExceptions": false,
    "IsAsynchronousSubscribersEnabled": false,
    "CancellationBoundary": "BeforeCommittingEvents",
    "PopulateReadModelEventPageSize": 200
  },
  "Serilog": {
    "MinimumLevel": {
      "Default": "Verbose",
      "Override": {
        "Microsoft": "Information",
        "Microsoft.AspNetCore": "Warning",
        "Microsoft.EntityFrameworkCore.Database.Command": "Warning",
        "System": "Information"
      }
    },
    "WriteTo": [
      {
        "Name": "Async",
        "Args": {
          "configure": [
            {
              "Name": "Console",
              "Args": {
                "theme": "Serilog.Sinks.SystemConsole.Themes.AnsiConsoleTheme::Code, Serilog.Sinks.Console",
                "outputTemplate": "{NewLine}[{Timestamp:yyyy-MM-dd HH:mm:ss.fff} - {Level} - {MachineName}] {Message:lj}{NewLine}{Exception}{NewLine}"
              }
            },
            {
              "Name": "Logger",
              "Args": {
                "configureLogger": {
                  "Filter": [
                    {
                      "Name": "ByIncludingOnly",
                      "Args": {
                        "expression": "@l = 'Error' or @l = 'Fatal' or @l = 'Warning'"
                      }
                    }
                  ],
                  "WriteTo": [
                    {
                      "Name": "File",
                      "Args": {
                        "path": "Logs/Error/error_.log",
                        "outputTemplate": "{NewLine}[{Timestamp:yyyy-MM-dd HH:mm:ss.fff} --- {Level} --- {MachineName}-{SourceContext}] {Message:lj}{NewLine}{Exception}{NewLine}",
                        "rollingInterval": "Day",
                        "retainedFileCountLimit": 7
                      }
                    }
                  ]
                }
              }
            },
            {
              "Name": "Logger",
              "Args": {
                "configureLogger": {
                  "Filter": [
                    {
                      "Name": "ByIncludingOnly",
                      "ApiRoles": null,
                      "Args": {
                        "expression": "@l = 'Information'"
                      }
                    }
                  ],
                  "WriteTo": [
                    {
                      "Name": "File",
                      "Args": {
                        "path": "Logs/Info/info_.log",
                        "outputTemplate": "{NewLine}[{Timestamp:yyyy-MM-dd HH:mm:ss.fff} --- {Level} --- {MachineName}-{SourceContext}] {Message:lj}{NewLine}{Exception}{NewLine}",
                        "rollingInterval": "Day",
                        "retainedFileCountLimit": 7
                      }
                    }
                  ]
                }
              }
            }
          ]
        }
      }
    ],
    "Using": ["Serilog.Sinks.Console", "Serilog.Sinks.File"],
    "Enrich": ["FromLogContext", "WithThreadId", "WithMachineName"],
    "Properties": {
      "ApplicationName": "open-system.reactions.api"
    }
  },
  "IdentityServer": {
    "Key": {
      "Type": "Development"
    }
  },
  "Authentication": {
    "Google": {
      "ClientId": "522281975423-ug2suos37384u6n5e3hodetan68jdm7d.apps.googleusercontent.com",
      "ClientSecret": "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",
      "AuthorizationEndpoint": "https://accounts.google.com/o/oauth2/auth",
      "TokenEndpoint": "https://oauth2.googleapis.com/token"
    }
  },
  "MailSettings": {
    "EmailFrom": "info@janedoe.com",
    "SmtpHost": "smtp.janedoe.com",
    "SmtpPort": 587,
    "SmtpUser": "Jane.Doe@janedoe.email",
    "SmtpPassword": "6X4wBQQYgU14F23VYc",
    "DisplayName": "Jane Doe"
  },
  "JWTSettings": {
    "Key": "C1CF4B7DC4C4175B6618DE4F55CA4",
    "Issuer": "CoreIdentity",
    "Audience": "CoreIdentityUser",
    "DurationInMinutes": 60
  },
  "Sts": {
    "ServerUrl": "https://localhost:44310"
  },
  "ApiRoles": {
    "EmployeeRole": "Employee",
    "ManagerRole": "Manager",
    "AdminRole": "Admin"
  },
  "AllowedHosts": "*"
}
